<!DOCTYPE html>
<html lang="sw">

<head>
    <meta charset="UTF-8">
    <title>Taja Picha</title>
    <!-- Import Materialize CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <!-- Optional: Import Google Fonts -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
        /* Additional styles if needed */
        body {
            background-color: #f5deb3; /* Light brown background */
            padding-top: 20px;
            font-family: Arial, sans-serif; /* Change font */
            color: #333; /* Change font color */
        }

        .navbar {
            background-color: #795548; /* Brown navbar color */
            color: #fff; /* Text color */
        }

        .question-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .question-card {
            padding: 5px; /* Smaller padding */
            border-radius: 5px;
            box-shadow: 0px 0px 3px rgba(0, 0, 0, 0.1); /* Light brown shadow */
            background-color: #fff;
            transition: background-color 0.3s, transform 0.3s; /* Add transition */
            margin-bottom: 10px; /* Smaller margin */
        }

        .question-card.hidden {
            display: none;
        }

        .question-card.show {
            display: block;
        }

        .question-card.hidden .card-content {
            visibility: hidden;
            height: 0;
            overflow: hidden;
        }

        .question-card.show .card-content {
            visibility: visible;
            height: auto;
            overflow: visible;
        }

        .question-card:hover {
            transform: scale(1.03); /* Scale up on hover */
            background-color: #f5f5f5; /* Lighten background color on hover */
        }

        .question-image {
            width: 200px; /* Set width for images */
            height: 200px; /* Set height for images */
            object-fit: cover; /* Maintain aspect ratio */
            border-radius: 5px;
            box-shadow: 0px 0px 3px rgba(0, 0, 0, 0.1); /* Light brown shadow */
            display: block; /* Ensure block display for centering */
            margin: 0 auto; /* Center the image horizontally */
        }

        .collection-item label {
            cursor: pointer;
        }

        .collection-item input[type="radio"]:checked+label {
            background-color: #00e676; /* Change background to green when selected */
        }

        .collection-item input[type="radio"]:checked.wrong+label {
            background-color: #ff1744; /* Change background to red when selected answer is wrong */
        }

        .result-message {
            margin-top: 10px; /* Smaller margin */
            font-weight: bold;
        }

        .btn {
            margin-top: 10px; /* Smaller margin */
        }

        .score-card {
            display: none; /* Hide score card initially */
            background-color: #fff;
            padding: 10px; /* Smaller padding */
            border-radius: 5px;
            box-shadow: 0px 0px 3px rgba(0, 0, 0, 0.1); /* Light brown shadow */
            margin-top: 20px;
            text-align: center;
        }

        /* Style for Try Again button */
        .try-again-btn {
            background-color: #a1887f !important; /* Brown lighten-2 */
            color: #fff !important; /* Text color */
        }

        .try-again-btn:hover {
            background-color: #8d6e63 !important; /* Darken on hover */
        }
    </style>
</head>

<body>
    <nav class="navbar">
        <div class="nav-wrapper">
            <a href="#" class="brand-logo center">Taja Picha</a>
        </div>
    </nav>
    <div class="question-container">
        <div class="question-card card show">
            <div class="card-content">
                <!-- Questions and choices will be dynamically added here -->
            </div>
        </div>
        <div class="question-card card hidden">
            <div class="card-content">
                <!-- Questions and choices will be dynamically added here -->
            </div>
        </div>
    </div>

    <!-- Score Tally Card -->
    <div class="score-card card">
        <div class="card-content">
            <p>Kategoria: <span id="category"></span></p>
            <p>Alama Yako: <span id="score"></span></p>
            <a class="btn try-again-btn waves-effect waves-light" href="index.html">Cheza tena</a>
        </div>
    </div>

    <!-- Import Materialize JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const urlParams = new URLSearchParams(window.location.search);
            const category = urlParams.get("category");

            const images = {
                matunda: [
                    "matunda/apples.png",
                    "matunda/mango.jpg",
                    "matunda/pineapple.jpg",
                    "matunda/orange.png",
                    "matunda/banana.jpg",
                    "matunda/grapes.jpg",
                    "matunda/kiwi.jpg",
                    "matunda/lemon.jpg",
                    "matunda/passion.jpg",
                    "matunda/watermelon.jpg"
                ],
                wanyama: [
                    "wanyama/lion.jpg",
                    "wanyama/elephant.jpg",
                    "wanyama/cat.jpg",
                    "wanyama/buffalo.jpg",
                    "wanyama/cheetah.jpg",
                    "wanyama/cow.jpg",
                    "wanyama/dog.jpg",
                    "wanyama/goat.jpg",
                    "wanyama/hippo.jpg",
                    "wanyama/rabbit.jpg"
                ],
                rangi: [
                    "rangi/red.jpg",
                    "rangi/blue.jpg",
                    "rangi/yellow.jpg",
                    "rangi/green.jpg",
                    "rangi/purple.jpg",
                    "rangi/orange.jpg",
                    "rangi/brown.jpg",
                    "rangi/black.jpg",
                    "rangi/white.jpg",
                    "rangi/grey.jpg"
                ],
            };

            const choices = {
                matunda: [
                    ["Tofaa", "Ndizi", "Chungwa"],
                    ["Maharagwe", "Maembe", "Kiwi"],
                    ["Nanasi", "Lemon", "Ndimu"],
                    ["Tikiti Maji", "Tofaa", "Chungwa"],
                    ["Maembe", "Ndizi", "Kiwi"],
                    ["Ndimu", "Grapes", "Zabibu"],
                    ["Maharagwe", "Kiwi", "Mahindi"],
                    ["Ndimu", "Zabibu", "Maji"],
                    ["Nanasi", "Pasheni", "Tofaa"],
                    ["Bohora", "Kakara", "Tikiti Maji"],
                ],
                wanyama: [
                    ["Paka", "Simba", "Kiboko"],
                    ["Sungura", "Nungu", "Ndovu"],
                    ["Paka", "Punda", "Tembo"],
                    ["Kifaru", "Panya", "Kuku"],
                    ["Mbu", "Nyati", "Chui"],
                    ["Paka", "Simba", "Ng'ombe"],
                    ["Punda", "Kifaru", "Mbwa"],
                    ["Ndovu", "Mbuzi", "Panya"],
                    ["Tofaa", "Kiboko", "Nzi"],
                    ["Nyeupe", "Fisi", "Sungura"]
                    // Add choices for each question in wanyama
                ],
                rangi: [
                    ["Zambarau", "Green", "Blue"],
                    ["Manjano", "Buluu", "Paka"],
                    ["Kahawa", "Manjano", "Nyeusi"],
                    ["Kijani Kibichi", "Kijivu", "Nyeupe"],
                    ["Red", "Green", "Zambarau"],
                    ["Red", "Machungwa", "Blue"],
                    ["Red", "Kahawa", "Blue"],
                    ["Nyeusi", "Green", "Blue"],
                    ["Red", "Nyeupe", "Blue"],
                    ["Kijivu", "Nyeupe", "Blue"],
                    // Add choices for each question in rangi
                ],
            };

            const correctAnswers = {
                matunda: ["Tofaa", "Maembe", "Nanasi", "Chungwa", "Ndizi", "Zabibu", "Kiwi", "Ndimu", "Pasheni", "Tikiti Maji"],
                wanyama: ["Simba", "Ndovu", "Paka", "Kifaru", "Chui", "Ng'ombe", "Mbwa", "Mbuzi", "Kiboko", "Sungura"],
                rangi: ["Nyekundu", "Buluu", "Manjano", "Kijani Kibichi", "Zambarau", "Machungwa", "Kahawa", "Nyeusi", "Nyeupe", "Kijivu"],
            };

            let score = 0;
            let currentQuestionIndex = 0;

            function displayNextQuestion() {
                const currentQuestionCard = document.querySelector('.question-card.show');
                const nextQuestionCard = document.querySelector('.question-card.hidden');

                if (currentQuestionIndex < images[category].length) {
                    const questionContainer = currentQuestionCard.querySelector('.card-content');
                    questionContainer.innerHTML = "";

                    const imgElement = document.createElement("img");
                    imgElement.src = images[category][currentQuestionIndex];
                    imgElement.alt = "Picha ya " + category;
                    imgElement.classList.add("responsive-img", "question-image");
                    questionContainer.appendChild(imgElement);

                    // Create radio buttons for choices
                    const choiceList = document.createElement("ul");
                    choiceList.classList.add("collection");

                    choices[category][currentQuestionIndex].forEach(choice => {
                        const listItem = document.createElement("li");
                        listItem.classList.add("collection-item");
                        const radioInput = document.createElement("input");
                        radioInput.type = "radio";
                        radioInput.name = "answer";
                        radioInput.id = choice;
                        radioInput.value = choice;
                        const label = document.createElement("label");
                        label.htmlFor = choice;
                        label.textContent = choice;
                        listItem.appendChild(radioInput);
                        listItem.appendChild(label);
                        choiceList.appendChild(listItem);
                    });

                    questionContainer.appendChild(choiceList);

                    // Add event listener to move to the next question on option selection
                    choiceList.addEventListener("change", () => {
                        const selectedAnswer = document.querySelector('input[name="answer"]:checked');
                        const resultElement = document.createElement("p");
                        if (selectedAnswer) {
                            const userAnswer = selectedAnswer.value;
                            const correctAnswer = correctAnswers[category][currentQuestionIndex];

                            // Display whether the answer is correct or wrong at the bottom
                            if (userAnswer === correctAnswer) {
                                resultElement.textContent = "Sahihi!";
                                score++;
                            } else {
                                resultElement.textContent = `Sio Sahihi.`;
                                selectedAnswer.classList.add('wrong'); // Add class to make the selected answer red
                            }

                            // Append result element to the bottom
                            questionContainer.appendChild(resultElement);

                            // Disable the radio buttons after checking the answer
                            const radioButtons = document.querySelectorAll('input[name="answer"]');
                            radioButtons.forEach(button => {
                                button.disabled = true;
                            });

                            // Move to the next question after a delay
                            setTimeout(() => {
                                currentQuestionCard.classList.remove('show');
                                currentQuestionCard.classList.add('hidden');
                                nextQuestionCard.classList.remove('hidden');
                                nextQuestionCard.classList.add('show');
                                currentQuestionIndex++;
                                displayNextQuestion();
                            }, 1000); // Adjust the delay as needed (in milliseconds)
                        }
                    });
                } else {
                    // Hide question cards
                    document.querySelectorAll('.question-card').forEach(card => {
                        card.style.display = 'none';
                    });

                    // Show score card
                    const scoreCard = document.querySelector('.score-card');
                    scoreCard.style.display = 'block';

                    // Display final score
                    const categorySpan = document.getElementById("category");
                    categorySpan.textContent = category;

                    const scoreSpan = document.getElementById("score");
                    scoreSpan.textContent = score;
                }
            }

            displayNextQuestion();
        });
    </script>
</body>

</html>
