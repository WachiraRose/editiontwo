<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fill in the Blanks Quiz</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 0;
        }

        .drop-zone, .drop-zone-b{
            border: 2px dashed #ccc;
            padding: 5px 10px;
            min-width: 100px;
            background-color: #f9f9f9;
            display: inline-block;
            margin: 0 5px; /* Added margin for spacing */
        }

        .draggable, .draggable-b {
            margin: 10px;
            padding: 5px 10px;
            background-color: #f2f2f2;
            border: 1px solid #ccc;
            cursor: pointer;
            display: inline-block;
        }

        .draggable:hover, .draggable-b:hover {
            background-color: #ddd;
        }

        .popup-message {
            position: absolute;
            background-color: #f87171;
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            display: none;
            z-index: 10; /* Ensure it appears above other elements */
        }

        #confetti {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            display: none; /* Initially hidden */
        }

        /* Section colors */
        .section-a {
            background-color: #d1fae5; /* Light green */
        }

        .section-b {
            background-color: #10ee8e; /* Light blue */
        }

        /* Answer container color */
        .answer-container, .answer-container-b {
            background-color: #ffebee; /* Light red */
        }

        /* Container styles */
        .quiz-container {
            background-color: hsl(212, 87%, 48%);
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            display: flex; /* Make the container flex */
            align-items: flex-start; /* Align items at the start */
        }

        .questions {
            flex: 1; /* Allow questions to take available space */
            margin-right: 20px; /* Space between questions and answers */
        }

        .answers {
            flex: 0 0 150px; /* Smaller fixed width for answers */
            display: flex;
            flex-direction: column; /* Stack answers vertically */
            justify-content: flex-start; /* Align items at the start */
        }

        /* Answer container color */
        .answer-container-b {
            background-color: #e71635; /* Light red */
        }

        /* Container styles */
        .quiz-container-b {
            background-color: hsl(330, 87%, 48%);
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            display: flex; /* Make the container flex */
            align-items: flex-start; /* Align items at the start */
        }

        .questions-b {
            flex: 1; /* Allow questions to take available space */
            margin-right: 20px; /* Space between questions and answers */
        }

        .answers-b {
            flex: 0 0 150px; /* Smaller fixed width for answers */
            display: flex;
            flex-direction: column; /* Stack answers vertically */
            justify-content: flex-start; /* Align items at the start */
        }
        

        @media (max-width: 640px) {
            .question, .question-b {
                font-size: 14px;
            }

            .draggable, .drop-zone, .draggable-b, .drop-zone-b {
                font-size: 14px;
                padding: 5px;
                margin: 5px;
            }
        }

        .refresh-btn {
            margin-top: 20px;
            padding: 10px 20px;
            background-color: #4CAF50; /* Green background */
            color: white; /* White text */
            border: none;
            border-radius: 5px;
            cursor: pointer;
            display: none; /* Initially hidden */
        }

        .refresh-btn:hover {
            background-color: #45a049; /* Darker green on hover */
        }
    </style>
</head>
<body class="bg-gray-100">
    <h1 class="text-2xl font-bold my-4">FILL IN THE BLANKS</h1>

    <div class="quiz-container relative flex">
        <!-- Section A (Fill in the Blanks) -->
        <div id="quiz-container-a" class="section-a questions">
            <h2 class="text-2xl font-bold my-4">A. Greeting in Swahili</h2>
            <div class="question my-2">
                1. In the morning, you would say <span class="drop-zone" data-answer="Habari"></span> ya asubuhi.
            </div>
            <div class="question my-2">
                2. When asking someone their name, you say “Jina lako ni <span class="drop-zone" data-answer="nani"></span>.”
            </div>
            <div class="question my-2">
                3. When a child meets their mother, they say “<span class="drop-zone" data-answer="shikamoo"></span> mama.”
            </div>
            <div class="question my-2">
                4. Before going to sleep at night, it's nice to say, "<span class="drop-zone" data-answer="usiku"></span> mwema."
            </div>
            <div class="question my-2">
                5. To say sorry to someone, you say “<span class="drop-zone" data-answer="pole"></span> mama.”
            </div>
            <div id="popup-message-a" class="popup-message"></div>
        </div>


        <!-- Answer container for draggable items -->
        <div id="answer-container-a" class="answer-container w-11/12 md:w-4/12 mt-4 p-4 rounded shadow-lg flex flex-col justify-start">
            <p class="text-lg font-semibold mb-2">Drag and Drop the answers:</p>
            <div class="flex flex-wrap justify-start" id="answer-items">
                <!-- Answers will be populated here by JavaScript -->
            </div>
        </div>
    </div>

    <div class="quiz-container-b relative flex">
        <!-- Section A (Fill in the Blanks) -->
        

        <!-- Section B (True/False) -->
        <div id="quiz-container-b" class="section-b questions-b">
            <h2 class="text-xl font-bold my-4">B. Answer whether it is True or False:</h2>

            <div class="question-b my-2">
                1. "Habari ya asubuhi" means "Good night" in Kiswahili. <span class="drop-zone-b" data-answer="False"></span>
            </div>
            <div class="question-b my-2">
                2. You would say "Hodi, hodi?” to mean “May I come in?” <span class="drop-zone-b" data-answer="True"></span>
            </div>
            <div class="question-b my-2">
                3. "Lala unono" is a greeting you use in the morning. <span class="drop-zone-b" data-answer="False"></span>
            </div>
            <div class="question-b my-2">
                4. "Habari ya jioni" translates to "Good evening" in English. <span class="drop-zone-b" data-answer="True"></span>
            </div>
            <div class="question-b my-2">
                5. “Hatujambo” means “We are fine.” <span class="drop-zone-b" data-answer="True"></span>
            </div>
            <div id="popup-message-b" class="popup-message"></div>
        </div>

        <!-- Answer container for draggable items -->
        <div id="answer-container-b" class="answer-container-b w-11/12 md:w-4/12 mt-4 p-4 rounded shadow-lg flex flex-col justify-start">
            <p class="text-lg font-semibold mb-2">Drag and Drop the answers:</p>
            <div class="flex flex-wrap justify-start" id="answer-items-b">
                <!-- Answers will be populated here by JavaScript -->
            </div>
        </div>
    </div>


    <!-- Confetti canvas -->
    <canvas id="confetti"></canvas>

    <!-- Refresh Button -->
    <button id="refresh-button" class="refresh-btn" onclick="refreshQuiz()">Refresh Quiz</button>

    <script>
        const draggables = [
            { text: "Habari", answer: "Habari" },
            { text: "nani", answer: "nani" },
            { text: "shikamoo", answer: "shikamoo" },
            { text: "usiku", answer: "usiku" },
            { text: "pole", answer: "pole" }
        ];

        const draggablesb = [
            { text: "True", answer: "True" },
            { text: "False", answer: "False" }
        ];

        const answerContainer = document.getElementById('answer-items');
        const dropZones = document.querySelectorAll('.drop-zone');
        const answerContainerb = document.getElementById('answer-items-b');
        const dropZonesb = document.querySelectorAll('.drop-zone-b');
        const popupMessageA = document.getElementById('popup-message-a');
        const popupMessageB = document.getElementById('popup-message-b');
        const confettiCanvas = document.getElementById('confetti');
        const refreshButton = document.getElementById('refresh-button');
        let confettiCtx = confettiCanvas.getContext('2d');
        let confettiActive = false;
  
        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function addDraggables() {
            shuffle(draggables);
            draggables.forEach(item => {
                const draggableElement = document.createElement('div');
                draggableElement.className = 'draggable';
                draggableElement.draggable = true;
                draggableElement.dataset.answer = item.answer;
                draggableElement.textContent = item.text;

                draggableElement.addEventListener('dragstart', (e) => {
                    e.dataTransfer.setData('text/plain', item.answer);
                });

                answerContainer.appendChild(draggableElement);
            });
        }

        function addDraggablesb() {
            shuffle(draggablesb);
            draggablesb.forEach(item => {
                const draggableElement = document.createElement('div');
                draggableElement.className = 'draggable-b';
                draggableElement.draggable = true;
                draggableElement.dataset.answer = item.answer;
                draggableElement.textContent = item.text;

                draggableElement.addEventListener('dragstart', (e) => {
                    e.dataTransfer.setData('text/plain', item.answer);
                });

                answerContainerb.appendChild(draggableElement);
            });
        }

        dropZones.forEach(dropZone => {
            dropZone.addEventListener('dragover', (e) => {
                e.preventDefault();
            });

            dropZone.addEventListener('drop', (e) => {
                const answer = e.dataTransfer.getData('text/plain');
                const correctAnswer = dropZone.dataset.answer;

                if (answer === correctAnswer) {
                    dropZone.textContent = answer;
                    dropZone.style.color = "green";
                    showPopup(popupMessageA, 'Correct!', dropZone);
                    playConfetti();
                    dropZone.classList.add('filled');

                    const draggable = document.querySelector(`.draggable[data-answer='${answer}']`);
                    if (draggable) draggable.remove();

                    if (Array.from(dropZones).every(zone => zone.classList.contains('filled'))) {
                        refreshButton.style.display = 'block';
                    }
                } else {
                    showPopup(popupMessageA, 'Try again!', dropZone);
                }
            });
        });

        dropZonesb.forEach(dropZone => {
            dropZone.addEventListener('dragover', (e) => {
                e.preventDefault();
            });

            dropZone.addEventListener('drop', (e) => {
                const answer = e.dataTransfer.getData('text/plain');
                const correctAnswer = dropZone.dataset.answer;

                if (answer === correctAnswer) {
                    dropZone.textContent = answer;
                    dropZone.style.color = "green";
                    showPopup(popupMessageB, 'Correct!', dropZone);
                    playConfetti();
                    dropZone.classList.add('filled');

                    const draggableb = document.querySelector(`.draggable-b[data-answer='${answer}']`);
                    if (draggableb) draggableb.remove();

                    if (Array.from(dropZonesb).every(zone => zone.classList.contains('filled'))) {
                        refreshButton.style.display = 'block';
                    }
                } else {
                    showPopup(popupMessageB, 'Try again!', dropZone);
                }
            });
        });

        function showPopup(popup, message, target) {
            popup.textContent = message;
            popup.style.display = 'block';
            const rect = target.getBoundingClientRect();
            popup.style.left = `${rect.left}px`;
            popup.style.top = `${rect.top - 30}px`;

            setTimeout(() => {
                popup.style.display = 'none';
            }, 2000);
        }

        function playConfetti() {
            confettiCanvas.style.display = 'block';

            if (!confettiActive) {
                // Confetti animation here
                confettiActive = true;
                setTimeout(() => {
                    confettiCanvas.style.display = 'none';
                    confettiActive = false;
                }, 2000);
            }
        }

        function refreshQuiz() {
            window.location.reload();
        }

        addDraggables();
        addDraggablesb();
    </script>


</body>
</html>
